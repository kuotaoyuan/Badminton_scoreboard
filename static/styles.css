:root {
  --red: #ef4444;
  --blue: #3b82f6;
  --court-line: #fef3c7;
  --net: #111827;
  --bg: #0b132b;
  --panel: #1f2937;
  --text: #e5e7eb;
  --muted: #9ca3af;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1000px 600px at 50% -20%, #0f2340, var(--bg));
}

.page { display: flex; min-height: 100%; flex-direction: column; }
.header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 24px; border-bottom: 1px solid #111827; background: rgba(31,41,55,0.8);
  position: sticky; top: 0; backdrop-filter: blur(6px);
}
.header h1 { margin: 0; font-size: 20px; }
.controls { display: flex; align-items: center; gap: 12px; }
.camera-controls { display: flex; gap: 8px; }
button { cursor: pointer; }
#startCamera {
  padding: 8px 12px; border-radius: 8px; border: 1px solid #374151;
  background: #111827; color: var(--text);
}
#closeCamera {
  padding: 8px 12px; border-radius: 8px; border: 1px solid #374151;
  background: #111827; color: var(--text);
}

.main {
  display: grid; grid-template-columns: 1fr; gap: 20px; padding: 20px; max-width: 1200px; margin: 0 auto; width: 100%;
}

.court {
  position: relative; width: 100%; aspect-ratio: 2.1/1; border-radius: 16px; overflow: hidden;
  border: 2px solid #1f2937; box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  background: #0b6e4f;
}
.side {
  position: absolute; top: 0; bottom: 0; width: calc(50% - 10px); display: flex; align-items: center; justify-content: center;
}
.side::before {
  content: ""; position: absolute; left: 0; right: 0; top: 50%; border-top: 2px dashed rgba(255,255,255,0.35);
}
.side-left { left: 0; background: var(--red); }
.side-right { right: 0; background: linear-gradient(180deg, rgba(59,130,246,0.25), rgba(59,130,246,0.15)); }

/* Swap visual colors when court is swapped */
.court.swapped .side-left { background: linear-gradient(180deg, rgba(59,130,246,0.25), rgba(59,130,246,0.15)); }
.court.swapped .side-right { background: var(--red); }

.net {
  position: absolute; top: 0; bottom: 0; left: 50%; width: 20px; transform: translateX(-50%);
  background: var(--net); z-index: 1;
}

.scoreboard {
  background: rgba(17,24,39,0.75); border: 1px solid #374151; border-radius: 12px; padding: 14px 16px;
  width: 500px; height: 300px; box-sizing: border-box; overflow: hidden;
  display: grid; grid-template-columns: 1fr auto; grid-template-rows: auto 1fr; gap: 8px 12px; align-items: center; position: relative; z-index: 2;
}
.team-label { display: none; }
.score { grid-column: 1 / 2; font-size: 250px; font-weight: 800; line-height: 1; text-align: right; padding-right: 6px; }
.score-buttons { grid-column: 2 / 3; display: grid; gap: 10px; }
.btn {
  height: 60px; width: 120px; border-radius: 8px; border: 1px solid #374151; color: var(--text); background: #0b132b;
}
.btn:active { transform: translateY(1px); }

.video-section { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; align-items: start; }
.video-section video, .video-section canvas { width: 100%; border-radius: 12px; border: 1px solid #1f2937; background: #000; }

.footer { text-align: center; color: var(--muted); padding: 8px 0 20px; font-size: 12px; }

@media (max-width: 960px) {
  .video-section { grid-template-columns: 1fr; }
}

/* Quadrants and inputs */
.quadrants { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: space-between; padding: 12px; gap: 8px; pointer-events: none; z-index: 1; }
.side-right .quadrants, .side-left .quadrants { grid-template-columns: 1fr; }
.name-row { display: flex; align-items: center; gap: 8px; justify-content: center; }
.name-input {
  width: 70%; max-width: 220px; margin: 0 auto; height: 80px; border-radius: 8px; border: 1px solid #d1d5db;
  padding: 0 10px; font-size: 50px; text-align: center; color: #565a63; background: #f9fafb; outline: none;
  pointer-events: auto;
}
.side-left .name-input { border-color: rgba(0,0,0,0.25); }
.serve { font-size: 80px; pointer-events: none; line-height: 1; display: inline-block; width: 0.0em; text-align: center; opacity: 0.15; transition: opacity 120ms ease; }
.serve.on { opacity: 1; }

/* Swap button */
.swap-btn {
  position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
  width: 44px; height: 44px; border-radius: 999px; border: 1px solid #f4f3f7; background: #00000070; color: #f7f3f3;
  font-size: 22px; line-height: 44px; text-align: center; cursor: pointer; z-index: 5;
}
.swap-btn:active { transform: translate(-50%, -48%); }


